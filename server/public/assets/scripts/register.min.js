/*! prime_origin 2015-12-01 */
var formApp=angular.module("formApp",["ui.bootstrap","ngMessages"]);formApp.directive("ngUnique",["AuthService",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){c.bind("blur",function(f){if(e&&c.val()){var g=b.$eval(d.ngUnique),h=c.val();a.checkUniqueValue(g.key,g.property,h).then(function(a){h==c.val()&&(console.log("unique = "+a),e.$setValidity("unique",a),b.$broadcast("show-errors-check-validity"))})}})}}}]),formApp.directive("passwordMatch",[function(){return{restrict:"A",scope:!0,require:"ngModel",link:function(a,b,c,d){var e=function(){var b=a.$eval(c.ngModel),d=a.$eval(c.passwordMatch);return b==d};a.$watch(e,function(a){d.$setValidity("unique",a)})}}}]),formApp.factory("AuthService",["$http",function(a){var b=function(b,c,d){var e={id:b,property:c,value:d};return a.post("/password",e).then(function(a){return a.data.isUnique})},c={checkUniqueValue:b};return c}]),formApp.controller("FormCtrl",["$scope","$http",function(a,b){}]);